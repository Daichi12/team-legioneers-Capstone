var superagent=require("superagent"),helper=require("./Helper"),IndexDB=function(e){var n=e;return{dbTransaction:function(e){if("undefined"==typeof window)return null;if(window){if(null==n.site_id){var r=new Error("Please Set Your TURBO_APP_ID");return void e(r,null)}if(n.site_id.length<20){var r=new Error("Please Set Your TURBO_APP_ID");return void e(r,null)}var t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB;if(null==t)return null;if(void 0==t)return null;var o=t.open("turbo",1);return o.onupgradeneeded=function(){var e=o.result;e.createObjectStore("MyObjectStore",{keyPath:"id"})},o.onsuccess=function(){var n=o.result,r=n.transaction("MyObjectStore","readwrite"),t=r.objectStore("MyObjectStore");e(null,t),r.oncomplete=function(){n.close()}},o}}}};module.exports=IndexDB;